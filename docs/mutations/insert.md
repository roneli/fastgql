# Insert

## Auto-generated insert mutation

FastGQL auto generates `create<OBJECT_NAME>` insert mutations if the [#generatemutations](../schema/directives.md#generatemutations "mention")is set. The following code will be added to the GraphQL schema.

```graphql
// Some code

mutation {
	# createPosts allows to insert one or more Posts
	createPosts(inputs: [CreatePostInput!]!): PostsPayload
	# ... more mutations
}

"""
AutoGenerated input for Post
"""
input CreatePostInput {
	id: Int!
	name: String
}

"""
Autogenerated payload object
"""
type PostsPayload {
	"""
	rows affection by mutation
	"""
	rows_affected: Int!
	posts: [Post]
}
```

The [#generatemutations](../schema/directives.md#generatemutations "mention") directive adds the above into our schema.

* `inputs` argument passed to `createPosts` mutation is required and you can pass 1 or more objects.
* `PostsPayload` is the response object returned from the mutation, returning the amounts of rows\_affected i.e. the amount of objects inserted and access to all our posts info

## Insert Objects

**Example:** Insert a new `post object` and return the inserted post object in the response:

{% tabs %}
{% tab title="Single Insert" %}
<pre class="language-graphql"><code class="lang-graphql">mutation { 
    createPosts(inputs: {name: "fastGQL", id: 111}) { 
        rows_affected 
        posts { 
            name 
            id 
        } 
    } 
<strong>}
</strong></code></pre>
{% endtab %}

{% tab title="Multiple Insert" %}
```graphql
mutation { 
    createPosts(inputs: [{name: "fastGQL", id: 1}, {name: "fastGQL2", id: 2}]) { 
        rows_affected 
        posts { 
            name 
            id 
        } 
    } 
}
```
{% endtab %}

{% tab title="Insert Returning Relation" %}
```graphql
mutation { 
    createPosts(inputs: [{name: "fastGQL", id: 1}, {name: "fastGQL2", id: 2}]) { 
        rows_affected 
        posts { 
            name 
            id
            categories {
                id
                name
            }
        } 
    } 
}
```
{% endtab %}
{% endtabs %}

