---
title: Insert
description: Insert mutations
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

FastGQL auto generates `create<OBJECT_NAME>` insert mutations if the [#generatemutations](../schema/directives.md#generatemutations "mention")is set. The following code will be added to the GraphQL schema.

```graphql
// Some code

mutation {
	# createPosts allows to insert one or more Posts
	createPosts(inputs: [CreatePostInput!]!): PostsPayload
	# ... more mutations
}

"""
AutoGenerated input for Post
"""
input CreatePostInput {
	id: Int!
	name: String
}

"""
Autogenerated payload object
"""
type PostsPayload {
	"""
	rows affection by mutation
	"""
	rows_affected: Int!
	posts: [Post]
}
```

The [#generatemutations](../schema/directives.md#generatemutations "mention") directive adds the above into our schema.

* `inputs` argument passed to `createPosts` mutation is required and you can pass 1 or more objects.
* `PostsPayload` is the response object returned from the mutation, returning the amounts of rows\_affected i.e. the amount of objects inserted and access to all our posts info

## Insert Objects

**Example:** Insert a new `post object` and return the inserted post object in the response:

<Tabs>
<TabItem label="Single Insert">

```graphql
mutation {
    createPosts(inputs: {name: "fastGQL", id: 111}) { 
        rows_affected 
        posts { 
            name 
            id 
        } 
    }
```
</TabItem>

<TabItem label="Multiple Insert" >
```graphql
mutation { 
    createPosts(inputs: [{name: "fastGQL", id: 1}, {name: "fastGQL2", id: 2}]) { 
        rows_affected 
        posts { 
            name 
            id 
        } 
    } 
}
```
</TabItem>

<TabItem label="Insert returning relation">
```graphql
mutation { 
    createPosts(inputs: [{name: "fastGQL", id: 1}, {name: "fastGQL2", id: 2}]) { 
        rows_affected 
        posts { 
            name 
            id
            categories {
                id
                name
            }
        } 
    } 
}
```
</TabItem>
</Tabs>

